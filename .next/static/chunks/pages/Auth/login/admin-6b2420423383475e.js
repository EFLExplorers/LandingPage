(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[956],{2105:(e,t,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/Auth/login/admin",function(){return r(4113)}])},4113:(e,t,r)=>{"use strict";r.r(t),r.d(t,{AdminLoginPage:()=>l,default:()=>d});var s=r(6514),a=r(5834),i=r(6225),n=r(8384),o=r(4415),u=r.n(o);let l=()=>{let e=(0,i.useRouter)(),[t,r]=(0,a.useState)(""),[o,l]=(0,a.useState)(""),[d,c]=(0,a.useState)(""),[h,m]=(0,a.useState)(!1),_=async r=>{r.preventDefault(),c(""),m(!0);try{var s;let{data:r,error:a}=await n.N.auth.signInWithPassword({email:t,password:o});if(a)throw a;let{data:i,error:u}=await n.N.from("users").select("role").eq("id",null==(s=r.user)?void 0:s.id).single();if(u||(null==i?void 0:i.role)!=="admin")throw Error("Unauthorized access");e.push("/admin/dashboard")}catch(e){c(e instanceof Error?e.message:"An unexpected error occurred")}finally{m(!1)}};return(0,s.jsx)("div",{className:u().container,children:(0,s.jsxs)("div",{className:u().formContainer,children:[(0,s.jsx)("h1",{className:u().title,children:"Admin Login"}),(0,s.jsxs)("form",{onSubmit:_,className:u().form,children:[(0,s.jsx)("input",{type:"email",className:u().input,placeholder:"Admin Email",value:t,onChange:e=>r(e.target.value),required:!0}),(0,s.jsx)("input",{type:"password",className:u().input,placeholder:"Admin Password",value:o,onChange:e=>l(e.target.value),required:!0}),(0,s.jsx)("button",{type:"submit",className:u().button,disabled:h,children:h?"Logging in...":"Log In"})]}),d&&(0,s.jsx)("p",{className:u().error,children:d})]})})},d=l},4415:e=>{e.exports={container:"Auth_container__E0cyZ",formContainer:"Auth_formContainer__yRGg1",title:"Auth_title__XYQC0",subtitle:"Auth_subtitle__dCxJC",buttonGroup:"Auth_buttonGroup__ZNwhe",button:"Auth_button__4WTkn",messageBox:"Auth_messageBox__zNFzY"}},6225:(e,t,r)=>{e.exports=r(4379)},8384:(e,t,r)=>{"use strict";r.d(t,{N:()=>n});var s=r(7521);let a="https://EFLExplorers-ddvpckdfcfqwtjxdgvhb.supabase.co",i="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRkdnBja2RmY2Zxd3RqeGRndmhiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTE4MzQ2OTYsImV4cCI6MjA2NzQxMDY5Nn0.PPwtzGuizPNcROeoi5UOpwtRxGHV4vABIQ_7bvNuIFc";if(!a||!i)throw Error("Missing Supabase environment variables");let n=(0,s.UU)(a,i)}},e=>{var t=t=>e(e.s=t);e.O(0,[521,636,593,792],()=>t(2105)),_N_E=e.O()}]);